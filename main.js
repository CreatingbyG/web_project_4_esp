!function(){"use strict";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}t.d({},{h:function(){return X},w:function(){return rt}});var r=function(){function t(e,n,r){var o=this,i=e.name,a=e.link,u=e.likes,c=e.owner,l=void 0===c?{}:c,s=e._id;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.templateSelector=n,this.name=i,this.link=a,this._likes=u||[],this.user=r._id,this.owner=l._id||{},this.cardId=s||null,this.ownerName=l.name,this.userName=r.name,this.likeCountElement=null,this._isLiked=this._likes.some((function(t){return t.name===o.userName}))}var e,r;return e=t,(r=[{key:"_createCardElement",value:function(){var t=this,e=document.querySelector(this.templateSelector).content.querySelector(".elements").cloneNode(!0);e.querySelector(".card__image-text").textContent=this.name;var n=e.querySelector(".card-photo");n.src=this.link,n.alt=this.name,this.likeIcon=e.querySelector(".icons__dislike"),this._listeners();var r=e.querySelector(".icons__delete");return this.user!==this.owner&&(r.style.display="none"),r.addEventListener("click",(function(e){t.cardToDelete=e.target.closest(".elements"),rt.open(t.cardToDelete,t.cardId)})),this.likeCountElement=e.querySelector(".icons__like_number"),this.likeCountElement.textContent=this._likes.length>0?this._likes.length:"",0===this._likes.length?this.likeCountElement.style.display="none":this.likeCountElement.style.display="block",this.myLike(),e}},{key:"_handleToggleClick",value:function(){this._isLiked=!this._isLiked,this.likeIcon.classList.toggle("icons__like"),this.handleLike(this.cardId)}},{key:"handleLike",value:function(t){var e=this;this._isLiked?X.addLike(this.cardId).then((function(t){t&&t.likes&&(e._likes=t.likes,e.likeCountElement&&(e.likeCountElement.textContent=e._likes.length>0?e._likes.length:"",e.likeCountElement.style.display="block"))})):X.removeLike(t).then((function(t){t&&t.likes&&(e._likes=t.likes,e.likeCountElement&&(e.likeCountElement.textContent=e._likes.length>0?e._likes.length:""))}))}},{key:"myLike",value:function(){this._isLiked&&this.likeIcon.classList.add("icons__like")}},{key:"createCard",value:function(){return this._createCardElement()}},{key:"_listeners",value:function(){var t=this;this.likeIcon.addEventListener("click",(function(){t._handleToggleClick()}))}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),o=document.querySelectorAll(".popup"),i=document.querySelector(".popup_profile"),a=document.querySelector(".popup_images"),u=function(t){"Escape"===t.key&&(l(),s())},c=function(t){t.target.classList.contains("popup_opened")&&(l(),s())};function l(){o.forEach((function(t){t.classList.remove("popup_opened")}))}function s(t){document.removeEventListener("keydown",u),document.removeEventListener("click",c)}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===f(o)?o:String(o)),r)}var o}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupSelector=e,this._popup=document.querySelector(this._popupSelector),this._form=this._popup.firstElementChild,this._closeButton=this._popup.querySelector(".popup__container-btn-closed"),this._handleEscClose=this._handleEscClose.bind(this),this._handleOverlayClose=this._handleOverlayClose.bind(this),this._formSubmitHandler=this._formSubmitHandler.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("click",this._handleOverlayClose),this.setEventListeners()}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("click",this._handleOverlayClose),this._closeButton.removeEventListener("click",this.close.bind(this))}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&(l(),s())}},{key:"_formSubmitHandler",value:function(t){t.preventDefault()}},{key:"_handleOverlayClose",value:function(t){t.target===this._popup&&(l(),s())}},{key:"setEventListeners",value:function(){this._closeButton.addEventListener("click",this.close.bind(this))}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===d(o)?o:String(o)),r)}var o}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},m.apply(this,arguments)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(r);if(o){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._image=e._popup.querySelector("#img-card-popup"),e._imageText=e._popup.querySelector(".img-card-name"),e}return e=a,(n=[{key:"_handleImageClick",value:function(t){var e=t.target.src,n=t.target.alt;this._imageText.textContent=t.target.alt,document.querySelector(".popup_preview_images").classList.add("popup_opened");var r=this._image;r.setAttribute("src",e),r.setAttribute("alt",n),document.addEventListener("keydown",this._handlePopupKeyDown.bind(this)),document.addEventListener("click",this._handlePopupClick.bind(this))}},{key:"open",value:function(t,e){this._image.src=e,this._image.alt=t,this._imageText.textContent=t,m(_(a.prototype),"open",this).call(this)}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(y);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}var S=function(){function t(e,n){var r=e.data,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initialCards=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"render",value:function(){var t=this;this._initialCards.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.append(t)}}])&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),E=document.querySelector(".profile__description-name"),w=document.querySelector(".profile__description-info"),C=document.querySelector(".popup__container-texts-input-name"),j=document.querySelector(".popup__container-texts-input-info"),O=document.querySelector(".popup__container-texts-input-title"),P=document.querySelector(".popup__container-texts-input-link"),L=document.querySelector(".popup__handlers-button-change"),I=document.querySelector(".popup__handlers-button-deleting"),x=document.querySelector(".popup__handlers-button-create"),T=document.querySelector(".popup__handlers-button");function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===q(o)?o:String(o)),r)}var o}var B={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},D=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}var e,n;return e=t,(n=[{key:"_toggleInputError",value:function(t,e){var n=t.nextElementSibling;e?(t.classList.add(this._inputErrorClass),n.textContent=t.validationMessage,n.classList.add(this._errorClass)):(t.classList.remove(this._inputErrorClass),n.classList.remove(this._errorClass),n.textContent="")}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._toggleInputError(t,!1):this._toggleInputError(t,!0)}},{key:"_hasInvalidInput",value:function(t){return t.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(t,e){this._hasInvalidInput(t)?(e.disabled=!0,e.classList.add(this._inactiveButtonClass),e.classList.add("disabled-hover")):(e.disabled=!1,e.classList.remove(this._inactiveButtonClass),e.classList.remove("disabled-hover"))}},{key:"_setEventListeners",value:function(t){var e=this,n=Array.from(t.querySelectorAll(this._inputSelector)),r=t.querySelector(this._submitButtonSelector);this._toggleButtonState(n,r),n.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState(n,r)}))}))}},{key:"enableValidation",value:function(){var t=this;document.querySelectorAll(".form__input-error_active").forEach((function(t){t.classList.remove("form__input-error_active")})),Array.from(document.querySelectorAll(this._formSelector)).forEach((function(e){e.addEventListener("submit",(function(t){t.preventDefault()})),t._setEventListeners(e)}))}},{key:"_enterKeydownEventProfile",value:function(t){var e=document.querySelector(".popup__container-texts");if("Enter"===t.key){t.preventDefault();var n=this._hasInvalidInput(Array.from(e.querySelectorAll(".form__input")));n||(E.textContent=C.value,w.textContent=j.value,i.classList.remove("popup_opened")),this._toggleInputError(C,n),this._toggleInputError(j,n)}}},{key:"_enterKeyDownEventImages",value:function(t){var e=document.querySelector(".popup__container-texts-images");if("Enter"===t.key){t.preventDefault();var n=this._hasInvalidInput(Array.from(e.querySelectorAll(".form__input")));if(!n){var o={name:O.value,link:P.value},i=new r(o,"#template-cards");document.querySelector(".contelements").prepend(i.createCard()),a.classList.remove("popup_opened")}this._toggleInputError(O,n),this._toggleInputError(P,n),s()}}},{key:"_handlePopupKeyDown",value:function(t){"Escape"===t.key&&l()}},{key:"_handlePopupClick",value:function(t){t.target.classList.contains("popup_opened")&&l()}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},V.apply(this,arguments)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function H(t){var e=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===R(e)?e:String(e)}var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=G(r);if(o){var n=G(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return z(t)}(this,t)});function a(t,e){var n,r,o,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r=z(n=i.call(this,t)),u=function(t){t.preventDefault(),n._getNewValues(),n.close()},(o=H(o="_formSubmitHandler"))in r?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,n._submitCallBack=e,n._formSubmitHandler=n._formSubmitHandler.bind(z(n)),n._formValidator=new D(B),n}return e=a,(n=[{key:"_getInputValues",value:function(){var t=this;return this._inputList=this._form.querySelectorAll(".form__input"),this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"_getNewValues",value:function(){"confirm"==this._form.id?this._submitCallBack(this.cardToDelete,this.cardId):this._submitCallBack(this._getInputValues())}},{key:"setEventListeners",value:function(){V(G(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._formSubmitHandler)}},{key:"open",value:function(t,e){V(G(a.prototype),"open",this).call(this),this._formValidator.enableValidation(),this.cardToDelete=t,this.cardId=e}},{key:"close",value:function(t){V(G(a.prototype),"close",this).call(this),this._form.reset(),t&&(this._form.id="delete")}}])&&U(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(y);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===J(o)?o:String(o)),r)}var o}var $=function(){function t(e){var n=e.nameSelector,r=e.infoSelector,o=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameElement=document.querySelector(n),this._infoElement=document.querySelector(r),this._avatarElement=document.querySelector(o),this._nameInput=document.querySelector(".popup__container-texts-input-name"),this._jobInput=document.querySelector(".popup__container-texts-input-info")}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._infoElement.textContent,avatar:this._avatarElement.src}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.job,r=t.avatar;e&&(this._nameElement.textContent=e),n&&(this._infoElement.textContent=n),r&&(this._avatarElement.src=r)}}])&&M(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===F(o)?o:String(o)),r)}var o}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._token="64bdc8e1-28e5-4d06-acdb-847b17c56560",this._groupId="web_es_09",this._url="https://around.nomoreparties.co/v1/".concat(this._groupId,"/")}var e,n;return e=t,(n=[{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"cards"),{headers:{authorization:this._token}}).then((function(t){if(t.ok)return t.json()}))}},{key:"addNewCard",value:function(t){return fetch("".concat(this._url,"cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){if(t.ok)return t.json()}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"users/me"),{method:"GET",headers:{authorization:this._token}}).then((function(t){if(t.ok)return t.json()}))}},{key:"getUserInfoChangedPatch",value:function(t){return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,about:t.job})}).then((function(t){if(t.ok)return t.json()}))}},{key:"getUserInfoChanged",value:function(){return fetch("".concat(this._url,"users/me"),{method:"GET",headers:{authorization:this._token}}).then((function(t){if(t.ok)return t.json()}))}},{key:"updateAvatar",value:function(t){return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:t.link})}).then((function(t){if(t.ok)return t.json();throw new Error("Error updating avatar: ".concat(t.statusText))})).catch((function(t){console.error("Error in updateAvatar: ".concat(t))}))}},{key:"getInfoAvatar",value:function(){return fetch("".concat(this._url,"users/me/avatar"),{method:"GET",headers:{authorization:this._token}}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.error("Error in updateAvatar: ".concat(t))}))}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url,"cards/").concat(t),{method:"DELETE",headers:{authorization:this._token}}).then((function(t){if(!t.ok)throw new Error("Error deleting card: ".concat(t.statusText));return t.json()})).catch((function(t){console.error("Error in deleteCard: ".concat(t))}))}},{key:"addLike",value:function(t){return fetch("".concat(this._url,"cards/likes/").concat(t),{method:"PUT",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw new Error("Error adding like: ".concat(t.statusText))})).catch((function(t){console.error("Error in addLike: ".concat(t))}))}},{key:"removeLike",value:function(t){return fetch("".concat(this._url,"cards/likes/").concat(t),{method:"DELETE",headers:{authorization:this._token}}).then((function(t){if(t.ok)return t.json();throw new Error("Error removing like: ".concat(t.statusText))})).catch((function(t){console.error("Error in removeLike: ".concat(t))}))}}])&&Q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()),Y=new $({nameSelector:".profile__description-name",infoSelector:".profile__description-info",avatarSelector:".avatar"});Promise.all([X.getUserInfoChanged(),X.getInitialCards()]).then((function(t){var e,n,o=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(t,e){if(t){if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];Y.setUserInfo(i);var u=new S({data:a,renderer:function(t){var e=new r(t,"#template-cards",i).createCard();u.addItem(e)}},".contelements");u.render();var c=document.querySelector(".add-button"),l=new K(".popup_images",(function(t){x.textContent="Creando...",X.addNewCard(t).then((function(t){var e=t.name,n=t.link,o=t._id,a=t.owner,u=new r({name:e,link:n,_id:o,likes:[],owner:a},"#template-cards",i);document.querySelector(".contelements").prepend(u.createCard()),x.textContent="Crear"}))}));c.addEventListener("click",(function(){l.open()}))})).catch((function(t){x.textContent="Crear"})),document.addEventListener("click",(function(t){if(t.target.classList.contains("card-photo")){var e={src:t.target.src,alt:t.target.alt,name:t.target.alt};new b(".popup_preview_images").open(e.name,e.src)}}));var Z=document.querySelector(".edit-button");X.getUserInfo(Y);var tt=new K(".popup_profile",(function(t){Y.setUserInfo(t),T.textContent="Guardando...",X.getUserInfoChangedPatch(t).then((function(){Y.setUserInfo(t),T.textContent="Guardar"})).catch((function(t){T.textContent="Guardar"}))}));Z.addEventListener("click",(function(){var t=Y._nameInput,e=Y._jobInput,n=Y.getUserInfo(),r=n.name,o=n.job;t.value=r,e.value=o,tt.open()}));var et=document.querySelector(".vector"),nt=new K(".popup_change_profile",(function(t){L.textContent="Guardando...",X.updateAvatar(t).then((function(t){document.querySelector(".avatar").src=t.avatar,L.textContent="Guardar"})).catch((function(t){L.textContent="Guardar"}))}));et.addEventListener("click",(function(t){t.preventDefault(),nt.open()}));var rt=new K(".popup_deleting_cards",(function(t,e){I.textContent="Eliminando...",X.deleteCard(e).then((function(){t.remove(),I.textContent="Si"})).catch((function(t){console.error("Error in deleting card: ".concat(t)),I.textContent="Si"}))}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUJBLEVBQXdCLFNBQVNDLEVBQVNDLEdBQ3pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRzNFLEVDUEFILEVBQXdCLFNBQVNTLEVBQUtDLEdBQVEsT0FBT0wsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsRUFBTyxHLDR0QkNHL0YsSUFBTUksRUFBSSxXQUNmLFNBQUFBLEVBQUFDLEVBQWtEQyxFQUFrQkMsR0FBTSxJQUFBQyxFQUFBLEtBQTdEQyxFQUFJSixFQUFKSSxLQUFNQyxFQUFJTCxFQUFKSyxLQUFNQyxFQUFLTixFQUFMTSxNQUFLQyxFQUFBUCxFQUFFUSxNQUFBQSxPQUFLLElBQUFELEVBQUcsQ0FBQyxFQUFDQSxFQUFFRSxFQUFHVCxFQUFIUyxLLDRGQUFHQyxDQUFBLEtBQUFYLEdBQzdDWSxLQUFLVixpQkFBbUJBLEVBQ3hCVSxLQUFLUCxLQUFPQSxFQUNaTyxLQUFLTixLQUFPQSxFQUNaTSxLQUFLQyxPQUFTTixHQUFTLEdBQ3ZCSyxLQUFLVCxLQUFPQSxFQUFLTyxJQUNqQkUsS0FBS0gsTUFBUUEsRUFBTUMsS0FBTyxDQUFDLEVBQzNCRSxLQUFLRSxPQUFTSixHQUFPLEtBQ3JCRSxLQUFLRyxVQUFZTixFQUFNSixLQUN2Qk8sS0FBS0ksU0FBV2IsRUFBS0UsS0FDckJPLEtBQUtLLGlCQUFtQixLQUN4QkwsS0FBS00sU0FBV04sS0FBS0MsT0FBT00sTUFBSyxTQUFDQyxHQUFJLE9BQUtBLEVBQUtmLE9BQVNELEVBQUtZLFFBQVEsR0FDeEUsQyxRQStGQyxPLEVBL0ZBaEIsRyxFQUFBLEVBQUFYLElBQUEscUJBQUFnQyxNQUNELFdBQXFCLElBQUFDLEVBQUEsS0FFYkMsRUFEV0MsU0FBU0MsY0FBY2IsS0FBS1Ysa0JBQWtCd0IsUUFDdENELGNBQWMsYUFBYUUsV0FBVSxHQUV6Q0osRUFBUUUsY0FBYyxxQkFDOUJHLFlBQWNoQixLQUFLUCxLQUVoQyxJQUFNd0IsRUFBZU4sRUFBUUUsY0FBYyxlQUMzQ0ksRUFBYUMsSUFBTWxCLEtBQUtOLEtBQ3hCdUIsRUFBYUUsSUFBTW5CLEtBQUtQLEtBRXhCTyxLQUFLb0IsU0FBV1QsRUFBUUUsY0FBYyxtQkFDdENiLEtBQUtxQixhQUdMLElBQU1DLEVBQWdCWCxFQUFRRSxjQUFjLGtCQXFCNUMsT0FwQkliLEtBQUtULE9BQVNTLEtBQUtILFFBQ3JCeUIsRUFBY0MsTUFBTUMsUUFBVSxRQUdoQ0YsRUFBY0csaUJBQWlCLFNBQVMsU0FBQ0MsR0FDdkNoQixFQUFLaUIsYUFBZUQsRUFBSUUsT0FBT0MsUUFBUSxhQUN2Q0MsR0FBY0MsS0FBS3JCLEVBQUtpQixhQUFjakIsRUFBS1IsT0FDN0MsSUFFQUYsS0FBS0ssaUJBQW1CTSxFQUFRRSxjQUFjLHVCQUM5Q2IsS0FBS0ssaUJBQWlCVyxZQUFjaEIsS0FBS0MsT0FBTytCLE9BQVMsRUFBSWhDLEtBQUtDLE9BQU8rQixPQUFTLEdBRXZELElBQXZCaEMsS0FBS0MsT0FBTytCLE9BQ2RoQyxLQUFLSyxpQkFBaUJrQixNQUFNQyxRQUFVLE9BRXRDeEIsS0FBS0ssaUJBQWlCa0IsTUFBTUMsUUFBVSxRQUV4Q3hCLEtBQUtpQyxTQUdFdEIsQ0FDVCxHQUFDLENBQUFsQyxJQUFBLHFCQUFBZ0MsTUFFRCxXQUNFVCxLQUFLTSxVQUFZTixLQUFLTSxTQUN0Qk4sS0FBS29CLFNBQVNjLFVBQVVDLE9BQU8sZUFDL0JuQyxLQUFLb0MsV0FBV3BDLEtBQUtFLE9BQ3ZCLEdBQUMsQ0FBQXpCLElBQUEsYUFBQWdDLE1BRUQsU0FBV1gsR0FBSSxJQUFBdUMsRUFBQSxLQUNUckMsS0FBS00sU0FDUGdDLEVBQUlDLFFBQVF2QyxLQUFLRSxRQUFRc0MsTUFBSyxTQUFDQyxHQUN6QkEsR0FBT0EsRUFBSTlDLFFBQ2YwQyxFQUFLcEMsT0FBU3dDLEVBQUk5QyxNQUNkMEMsRUFBS2hDLG1CQUNQZ0MsRUFBS2hDLGlCQUFpQlcsWUFBY3FCLEVBQUtwQyxPQUFPK0IsT0FBUyxFQUFJSyxFQUFLcEMsT0FBTytCLE9BQVMsR0FDbEZLLEVBQUtoQyxpQkFBaUJrQixNQUFNQyxRQUFVLFNBRzFDLElBRUFjLEVBQUlJLFdBQVc1QyxHQUFLMEMsTUFBSyxTQUFDQyxHQUNwQkEsR0FBT0EsRUFBSTlDLFFBQ2YwQyxFQUFLcEMsT0FBU3dDLEVBQUk5QyxNQUNkMEMsRUFBS2hDLG1CQUNQZ0MsRUFBS2hDLGlCQUFpQlcsWUFBY3FCLEVBQUtwQyxPQUFPK0IsT0FBUyxFQUFJSyxFQUFLcEMsT0FBTytCLE9BQVMsSUFHdEYsR0FFSixHQVVBLENBQUF2RCxJQUFBLFNBQUFnQyxNQUVBLFdBQ1FULEtBQUtNLFVBQ05OLEtBQUtvQixTQUFTYyxVQUFVUyxJQUFJLGNBRWhDLEdBQUMsQ0FBQWxFLElBQUEsYUFBQWdDLE1BR0osV0FDRSxPQUFPVCxLQUFLNEMsb0JBQ2QsR0FBQyxDQUFBbkUsSUFBQSxhQUFBZ0MsTUFFRCxXQUFZLElBQUFvQyxFQUFBLEtBQ1Y3QyxLQUFLb0IsU0FBU0ssaUJBQWlCLFNBQVMsV0FDdENvQixFQUFLQyxvQkFFUCxHQUNGLE0sb0VBQUMxRCxDQUFBLENBNUdjLEdDSEoyRCxFQUFTbkMsU0FBU29DLGlCQUFpQixVQUNuQ0MsRUFBZXJDLFNBQVNDLGNBQWMsa0JBQ3RDcUMsRUFBa0J0QyxTQUFTQyxjQUFjLGlCQUV6Q3NDLEVBQW1CLFNBQUN6QixHQUNmLFdBQVpBLEVBQUlqRCxNQUNOMkUsSUFDQUMsSUFFSixFQUVhQyxFQUFxQixTQUFDNUIsR0FDN0JBLEVBQUlFLE9BQU9NLFVBQVVxQixTQUFTLGtCQUNoQ0gsSUFDQUMsSUFFSixFQWNPLFNBQVNELElBQ2RMLEVBQU9TLFNBQVEsU0FBQ0MsR0FDZEEsRUFBTXZCLFVBQVV3QixPQUFPLGVBQ3pCLEdBQ0YsQ0FFTyxTQUFTTCxFQUFlM0IsR0FDN0JkLFNBQVMrQyxvQkFBb0IsVUFBV1IsR0FDeEN2QyxTQUFTK0Msb0JBQW9CLFFBQVNMLEVBQ3hDLEMsbXFCQ3ZDbUUsSUFFOUNNLEVBQUssV0FDeEIsU0FBQUEsRUFBWUMsSSw0RkFBZTlELENBQUEsS0FBQTZELEdBQ3pCNUQsS0FBSzhELGVBQWlCRCxFQUN0QjdELEtBQUsrRCxPQUFTbkQsU0FBU0MsY0FBY2IsS0FBSzhELGdCQUMxQzlELEtBQUtnRSxNQUFRaEUsS0FBSytELE9BQU9FLGtCQUN6QmpFLEtBQUtrRSxhQUFlbEUsS0FBSytELE9BQU9sRCxjQUM5QixnQ0FFRmIsS0FBS21FLGdCQUFrQm5FLEtBQUttRSxnQkFBZ0JDLEtBQUtwRSxNQUNqREEsS0FBS3FFLG9CQUFzQnJFLEtBQUtxRSxvQkFBb0JELEtBQUtwRSxNQUN6REEsS0FBS3NFLG1CQUFxQnRFLEtBQUtzRSxtQkFBbUJGLEtBQUtwRSxLQUN6RCxDLFFBb0NDLE8sRUFwQ0E0RCxHLEVBQUEsRUFBQW5GLElBQUEsT0FBQWdDLE1BRUQsV0FDRVQsS0FBSytELE9BQU83QixVQUFVUyxJQUFJLGdCQUMxQi9CLFNBQVNhLGlCQUFpQixVQUFXekIsS0FBS21FLGlCQUMxQ25FLEtBQUsrRCxPQUFPdEMsaUJBQWlCLFFBQVN6QixLQUFLcUUscUJBQzNDckUsS0FBS3VFLG1CQUNQLEdBQUMsQ0FBQTlGLElBQUEsUUFBQWdDLE1BRUQsV0FDRVQsS0FBSytELE9BQU83QixVQUFVd0IsT0FBTyxnQkFDN0I5QyxTQUFTK0Msb0JBQW9CLFVBQVczRCxLQUFLbUUsaUJBQzdDbkUsS0FBSytELE9BQU9KLG9CQUFvQixRQUFTM0QsS0FBS3FFLHFCQUM5Q3JFLEtBQUtrRSxhQUFhUCxvQkFBb0IsUUFBUzNELEtBQUt3RSxNQUFNSixLQUFLcEUsTUFDakUsR0FBQyxDQUFBdkIsSUFBQSxrQkFBQWdDLE1BRUQsU0FBZ0JnRSxHQUNJLFdBQWRBLEVBQU1oRyxNQUNSMkUsSUFDQUMsSUFFSixHQUFDLENBQUE1RSxJQUFBLHFCQUFBZ0MsTUFFRCxTQUFtQmlFLEdBQ2pCQSxFQUFFQyxnQkFDSixHQUFDLENBQUFsRyxJQUFBLHNCQUFBZ0MsTUFFRCxTQUFvQmdFLEdBQ2RBLEVBQU03QyxTQUFXNUIsS0FBSytELFNBQ3hCWCxJQUNBQyxJQUVKLEdBQUMsQ0FBQTVFLElBQUEsb0JBQUFnQyxNQUVELFdBQ0VULEtBQUtrRSxhQUFhekMsaUJBQWlCLFFBQVN6QixLQUFLd0UsTUFBTUosS0FBS3BFLE1BQzlELE0sb0VBQUM0RCxDQUFBLENBL0N1QixHLGd2Q0NGSyxJQUVWZ0IsRUFBYyxTQUFBQyxJLHFSQUFBQyxDQUFBRixFQUFBQyxHQUFBLEksUUFBQUUsRyxFQUFBSCxFLHFyQkFDakMsU0FBQUEsRUFBWWYsR0FBZSxJQUFBckUsRUFHcUMsTyw0RkFIckNPLENBQUEsS0FBQTZFLElBQ3pCcEYsRUFBQXVGLEVBQUE1RixLQUFBLEtBQU0wRSxJQUNEbUIsT0FBU3hGLEVBQUt1RSxPQUFPbEQsY0FBYyxtQkFDeENyQixFQUFLeUYsV0FBYXpGLEVBQUt1RSxPQUFPbEQsY0FBYyxrQkFBa0JyQixDQUNoRSxDQXFCQyxPLEVBckJBb0YsRyxFQUFBLEVBQUFuRyxJQUFBLG9CQUFBZ0MsTUFFRCxTQUFrQmlCLEdBQ2hCLElBQU13RCxFQUFheEQsRUFBSUUsT0FBT1YsSUFDeEJpRSxFQUFXekQsRUFBSUUsT0FBT1QsSUFDVm5CLEtBQUtpRixXQUNiakUsWUFBY1UsRUFBSUUsT0FBT1QsSUFDWFAsU0FBU0MsY0FBYyx5QkFDL0JxQixVQUFVUyxJQUFJLGdCQUM5QixJQUFNeUMsRUFBYXBGLEtBQUtnRixPQUN4QkksRUFBV0MsYUFBYSxNQUFPSCxHQUMvQkUsRUFBV0MsYUFBYSxNQUFPRixHQUMvQnZFLFNBQVNhLGlCQUFpQixVQUFXekIsS0FBS3NGLG9CQUFvQmxCLEtBQUtwRSxPQUNuRVksU0FBU2EsaUJBQWlCLFFBQVN6QixLQUFLdUYsa0JBQWtCbkIsS0FBS3BFLE1BQ2pFLEdBQUMsQ0FBQXZCLElBQUEsT0FBQWdDLE1BRUQsU0FBS2hCLEVBQU1DLEdBQ1RNLEtBQUtnRixPQUFPOUQsSUFBTXhCLEVBQ2xCTSxLQUFLZ0YsT0FBTzdELElBQU0xQixFQUNsQk8sS0FBS2lGLFdBQVdqRSxZQUFjdkIsRUFDOUIrRixFQUFBQyxFQUFBYixFQUFBM0YsV0FBQSxhQUFBRSxLQUFBLEtBQ0YsTSxvRUFBQ3lGLENBQUEsQ0ExQmdDLENBQVNoQixHLHVxQkNGdkI4QixFQUFPLFdBQzFCLFNBQUFBLEVBQUFyRyxFQUFnQ3NHLEdBQW1CLElBQXJDQyxFQUFJdkcsRUFBSnVHLEtBQU1DLEVBQVF4RyxFQUFSd0csVSw0RkFBUTlGLENBQUEsS0FBQTJGLEdBQzFCMUYsS0FBSzhGLGNBQWdCRixFQUNyQjVGLEtBQUsrRixVQUFZRixFQUNqQjdGLEtBQUtnRyxXQUFhcEYsU0FBU0MsY0FBYzhFLEVBQzNDLEMsUUFVQyxPLEVBVkFELEcsRUFBQSxFQUFBakgsSUFBQSxTQUFBZ0MsTUFFRCxXQUFTLElBQUFqQixFQUFBLEtBQ1BRLEtBQUs4RixjQUFjdEMsU0FBUSxTQUFDeUMsR0FDMUJ6RyxFQUFLdUcsVUFBVUUsRUFDakIsR0FDRixHQUFDLENBQUF4SCxJQUFBLFVBQUFnQyxNQUVELFNBQVFFLEdBQ05YLEtBQUtnRyxXQUFXRSxPQUFPdkYsRUFDekIsTSxvRUFBQytFLENBQUEsQ0FmeUIsR0MwQ2ZTLEVBQVN2RixTQUFTQyxjQUFjLDhCQUNoQ3VGLEVBQVd4RixTQUFTQyxjQUFjLDhCQUNsQ3dGLEVBQVl6RixTQUFTQyxjQUNoQyxzQ0FFV3lGLEVBQVcxRixTQUFTQyxjQUMvQixzQ0FFVzBGLEVBQWEzRixTQUFTQyxjQUNqQyx1Q0FFVzJGLEVBQWE1RixTQUFTQyxjQUNqQyxzQ0FFVzRGLEVBQW1CN0YsU0FBU0MsY0FBYyxrQ0FDMUM2RixFQUFzQjlGLFNBQVNDLGNBQWMsb0NBQzdDOEYsRUFBcUIvRixTQUFTQyxjQUFjLGtDQUM1QytGLEVBQW9CaEcsU0FBU0MsY0FBYywyQixtcUJDaERqRCxJQUFNZ0csRUFBWSxDQUN2QkMsYUFBYyxRQUNkQyxjQUFlLGVBQ2ZDLHFCQUFzQixnQkFDdEJDLG9CQUFxQix5QkFDckJDLGdCQUFpQix5QkFDakJDLFdBQVksNEJBR0RDLEVBQWEsV0FDeEIsU0FBQUEsRUFBWUMsSSw0RkFBUXRILENBQUEsS0FBQXFILEdBQ2xCcEgsS0FBS3NILGNBQWdCRCxFQUFPUCxhQUM1QjlHLEtBQUt1SCxlQUFpQkYsRUFBT04sY0FDN0IvRyxLQUFLd0gsc0JBQXdCSCxFQUFPTCxxQkFDcENoSCxLQUFLeUgscUJBQXVCSixFQUFPSixvQkFDbkNqSCxLQUFLMEgsaUJBQW1CTCxFQUFPSCxnQkFDL0JsSCxLQUFLMkgsWUFBY04sRUFBT0YsVUFDNUIsQyxRQXVIQyxPLEVBdkhBQyxHLEVBQUEsRUFBQTNJLElBQUEsb0JBQUFnQyxNQUVELFNBQWtCbUgsRUFBY0MsR0FDOUIsSUFBTUMsRUFBZUYsRUFBYUcsbUJBQzlCRixHQUNGRCxFQUFhMUYsVUFBVVMsSUFBSTNDLEtBQUswSCxrQkFDaENJLEVBQWE5RyxZQUFjNEcsRUFBYUksa0JBQ3hDRixFQUFhNUYsVUFBVVMsSUFBSTNDLEtBQUsySCxlQUVoQ0MsRUFBYTFGLFVBQVV3QixPQUFPMUQsS0FBSzBILGtCQUNuQ0ksRUFBYTVGLFVBQVV3QixPQUFPMUQsS0FBSzJILGFBQ25DRyxFQUFhOUcsWUFBYyxHQUUvQixHQUFDLENBQUF2QyxJQUFBLHNCQUFBZ0MsTUFFRCxTQUFvQm1ILEdBQ2JBLEVBQWFLLFNBQVNDLE1BR3pCbEksS0FBS21JLGtCQUFrQlAsR0FBYyxHQUZyQzVILEtBQUttSSxrQkFBa0JQLEdBQWMsRUFJekMsR0FBQyxDQUFBbkosSUFBQSxtQkFBQWdDLE1BRUQsU0FBaUIySCxHQUNmLE9BQU9BLEVBQVU3SCxNQUFLLFNBQUNxSCxHQUFZLE9BQU1BLEVBQWFLLFNBQVNDLEtBQUssR0FDdEUsR0FBQyxDQUFBekosSUFBQSxxQkFBQWdDLE1BRUQsU0FBbUIySCxFQUFXQyxHQUN4QnJJLEtBQUtzSSxpQkFBaUJGLElBQ3hCQyxFQUFjRSxVQUFXLEVBQ3pCRixFQUFjbkcsVUFBVVMsSUFBSTNDLEtBQUt5SCxzQkFDakNZLEVBQWNuRyxVQUFVUyxJQUFJLG9CQUU1QjBGLEVBQWNFLFVBQVcsRUFDekJGLEVBQWNuRyxVQUFVd0IsT0FBTzFELEtBQUt5SCxzQkFDcENZLEVBQWNuRyxVQUFVd0IsT0FBTyxrQkFFbkMsR0FBQyxDQUFBakYsSUFBQSxxQkFBQWdDLE1BRUQsU0FBbUIrSCxHQUFhLElBQUFoSixFQUFBLEtBQ3hCNEksRUFBWUssTUFBTUMsS0FDdEJGLEVBQVl4RixpQkFBaUJoRCxLQUFLdUgsaUJBRTlCYyxFQUFnQkcsRUFBWTNILGNBQWNiLEtBQUt3SCx1QkFDckR4SCxLQUFLMkksbUJBQW1CUCxFQUFXQyxHQUVuQ0QsRUFBVTVFLFNBQVEsU0FBQ29FLEdBQ2pCQSxFQUFhbkcsaUJBQWlCLFNBQVMsV0FDckNqQyxFQUFLb0osb0JBQW9CaEIsR0FDekJwSSxFQUFLbUosbUJBQW1CUCxFQUFXQyxFQUNyQyxHQUNGLEdBQ0YsR0FBQyxDQUFBNUosSUFBQSxtQkFBQWdDLE1BRUQsV0FBbUIsSUFBQUMsRUFBQSxLQUNERSxTQUFTb0MsaUJBQWlCLDZCQUNsQ1EsU0FBUSxTQUFDcUYsR0FDZkEsRUFBRzNHLFVBQVV3QixPQUFPLDJCQUN0QixJQUNpQitFLE1BQU1DLEtBQUs5SCxTQUFTb0MsaUJBQWlCaEQsS0FBS3NILGdCQUNsRDlELFNBQVEsU0FBQ2dGLEdBQ2hCQSxFQUFZL0csaUJBQWlCLFVBQVUsU0FBQ0MsR0FDdENBLEVBQUlpRCxnQkFDTixJQUNBakUsRUFBS29JLG1CQUFtQk4sRUFDMUIsR0FDRixHQUFDLENBQUEvSixJQUFBLDRCQUFBZ0MsTUFFRCxTQUEwQmlCLEdBQ3hCLElBQU1xSCxFQUFjbkksU0FBU0MsY0FBYywyQkFDM0MsR0FBZ0IsVUFBWmEsRUFBSWpELElBQWlCLENBQ3ZCaUQsRUFBSWlELGlCQUNKLElBQU1xRSxFQUFrQmhKLEtBQUtzSSxpQkFDM0JHLE1BQU1DLEtBQUtLLEVBQVkvRixpQkFBaUIsa0JBRXJDZ0csSUFDSDdDLEVBQU9uRixZQUFjcUYsRUFBVTVGLE1BQy9CMkYsRUFBU3BGLFlBQWNzRixFQUFTN0YsTUFDaEN3QyxFQUFhZixVQUFVd0IsT0FBTyxpQkFFaEMxRCxLQUFLbUksa0JBQWtCOUIsRUFBVzJDLEdBQ2xDaEosS0FBS21JLGtCQUFrQjdCLEVBQVUwQyxFQUNuQyxDQUNGLEdBQUMsQ0FBQXZLLElBQUEsMkJBQUFnQyxNQUVELFNBQXlCaUIsR0FDdkIsSUFBTXVILEVBQW9CckksU0FBU0MsY0FDakMsa0NBRUYsR0FBZ0IsVUFBWmEsRUFBSWpELElBQWlCLENBQ3ZCaUQsRUFBSWlELGlCQUNKLElBQU1xRSxFQUFrQmhKLEtBQUtzSSxpQkFDM0JHLE1BQU1DLEtBQUtPLEVBQWtCakcsaUJBQWlCLGtCQUVoRCxJQUFLZ0csRUFBaUIsQ0FDcEIsSUFBTUUsRUFBYyxDQUNsQnpKLEtBQU04RyxFQUFXOUYsTUFDakJmLEtBQU04RyxFQUFXL0YsT0FFYjBJLEVBQVUsSUFBSS9KLEVBQUs4SixFQUFhLG1CQUN0Q3RJLFNBQVNDLGNBQWMsaUJBQWlCdUksUUFBUUQsRUFBUUUsY0FDeERuRyxFQUFnQmhCLFVBQVV3QixPQUFPLGVBQ25DLENBQ0ExRCxLQUFLbUksa0JBQWtCNUIsRUFBWXlDLEdBQ25DaEosS0FBS21JLGtCQUFrQjNCLEVBQVl3QyxHQUNuQzNGLEdBQ0YsQ0FDRixHQUFDLENBQUE1RSxJQUFBLHNCQUFBZ0MsTUFFRCxTQUFvQmlCLEdBQ0YsV0FBWkEsRUFBSWpELEtBQ04yRSxHQUVKLEdBQUMsQ0FBQTNFLElBQUEsb0JBQUFnQyxNQUVELFNBQWtCaUIsR0FDWkEsRUFBSUUsT0FBT00sVUFBVXFCLFNBQVMsaUJBQ2hDSCxHQUVKLE0sb0VBQUNnRSxDQUFBLENBL0h1QixHLDAzQ0NuQnFDLElBRTFDa0MsRUFBYSxTQUFBekUsSSxxUkFBQUMsQ0FBQXdFLEVBQUF6RSxHQUFBLEksUUFBQUUsRyxFQUFBdUUsRSw2akJBQ2hDLFNBQUFBLEVBQVl6RixFQUFlMEYsR0FBVSxJQUFBL0osRSxNQUlnQixPLDRGQUpoQk8sQ0FBQSxLQUFBdUosRyxFQUNkRSxFQUFyQmhLLEVBQUF1RixFQUFBNUYsS0FBQSxLQUFNMEUsSSxFQXVCYSxTQUFDbkMsR0FDcEJBLEVBQUlpRCxpQkFDSm5GLEVBQUtpSyxnQkFDTGpLLEVBQUtnRixPQUNQLEcsTUEzQnVCLHlCLHdGQUNyQmhGLEVBQUtrSyxnQkFBa0JILEVBQ3ZCL0osRUFBSzhFLG1CQUFxQjlFLEVBQUs4RSxtQkFBbUJGLEtBQUlvRixFQUFBaEssSUFDdERBLEVBQUttSyxlQUFpQixJQUFJdkMsRUFBY1AsR0FBV3JILENBQ3JELENBeUNDLE8sRUF6Q0E4SixHLEVBQUEsRUFBQTdLLElBQUEsa0JBQUFnQyxNQUVELFdBQWtCLElBQUFDLEVBQUEsS0FNaEIsT0FMQVYsS0FBSzRKLFdBQWE1SixLQUFLZ0UsTUFBTWhCLGlCQUFpQixnQkFDOUNoRCxLQUFLNkosWUFBYyxDQUFDLEVBQ3BCN0osS0FBSzRKLFdBQVdwRyxTQUFRLFNBQUNzRyxHQUN2QnBKLEVBQUttSixZQUFZQyxFQUFNckssTUFBUXFLLEVBQU1ySixLQUN2QyxJQUNPVCxLQUFLNkosV0FDZCxHQUFDLENBQUFwTCxJQUFBLGdCQUFBZ0MsTUFFRCxXQUN1QixXQUFqQlQsS0FBS2dFLE1BQU0rRixHQUNiL0osS0FBSzBKLGdCQUFnQjFKLEtBQUsyQixhQUFjM0IsS0FBS0UsUUFFL0NGLEtBQUswSixnQkFBZ0IxSixLQUFLZ0ssa0JBRTVCLEdBQUMsQ0FBQXZMLElBQUEsb0JBQUFnQyxNQVFELFdBQ0UrRSxFQUFBQyxFQUFBNkQsRUFBQXJLLFdBQUEsMEJBQUFFLEtBQUEsTUFDQWEsS0FBS2dFLE1BQU12QyxpQkFBaUIsU0FBVXpCLEtBQUtzRSxtQkFDN0MsR0FBQyxDQUFBN0YsSUFBQSxPQUFBZ0MsTUFFRCxTQUFLa0IsRUFBYzdCLEdBQ2pCMEYsRUFBQUMsRUFBQTZELEVBQUFySyxXQUFBLGFBQUFFLEtBQUEsTUFDQWEsS0FBSzJKLGVBQWVNLG1CQUNwQmpLLEtBQUsyQixhQUFlQSxFQUNwQjNCLEtBQUtFLE9BQVNKLENBQ2hCLEdBQUMsQ0FBQXJCLElBQUEsUUFBQWdDLE1BRUQsU0FBTWtCLEdBQ0o2RCxFQUFBQyxFQUFBNkQsRUFBQXJLLFdBQUEsY0FBQUUsS0FBQSxNQUNBYSxLQUFLZ0UsTUFBTWtHLFFBQ1h2SSxJQUFlM0IsS0FBS2dFLE1BQU0rRixHQUFHLFNBQy9CLE0sb0VBQUNULENBQUEsQ0EvQytCLENBQVMxRixHLHVxQkNIdEJ1RyxFQUFRLFdBQzNCLFNBQUFBLEVBQUE5SyxHQUE0RCxJQUE5QytLLEVBQVkvSyxFQUFaK0ssYUFBY0MsRUFBWWhMLEVBQVpnTCxhQUFjQyxFQUFjakwsRUFBZGlMLGdCLDRGQUFjdkssQ0FBQSxLQUFBb0ssR0FDdERuSyxLQUFLdUssYUFBZTNKLFNBQVNDLGNBQWN1SixHQUMzQ3BLLEtBQUt3SyxhQUFlNUosU0FBU0MsY0FBY3dKLEdBQzNDckssS0FBS3lLLGVBQWlCN0osU0FBU0MsY0FBY3lKLEdBQzdDdEssS0FBSzBLLFdBQWE5SixTQUFTQyxjQUN6QixzQ0FFRmIsS0FBSzJLLFVBQVkvSixTQUFTQyxjQUN4QixxQ0FFSixDLFFBcUJDLE8sRUFyQkFzSixHLEVBQUEsRUFBQTFMLElBQUEsY0FBQWdDLE1BRUQsV0FNRSxNQUxpQixDQUNmaEIsS0FBTU8sS0FBS3VLLGFBQWF2SixZQUN4QjRKLElBQUs1SyxLQUFLd0ssYUFBYXhKLFlBQ3ZCNkosT0FBUTdLLEtBQUt5SyxlQUFldkosSUFHaEMsR0FBQyxDQUFBekMsSUFBQSxjQUFBZ0MsTUFFRCxTQUFBcUssR0FBbUMsSUFBckJyTCxFQUFJcUwsRUFBSnJMLEtBQU1tTCxFQUFHRSxFQUFIRixJQUFLQyxFQUFNQyxFQUFORCxPQUNuQnBMLElBQ0ZPLEtBQUt1SyxhQUFhdkosWUFBY3ZCLEdBRTlCbUwsSUFDRjVLLEtBQUt3SyxhQUFheEosWUFBYzRKLEdBRTlCQyxJQUNGN0ssS0FBS3lLLGVBQWV2SixJQUFNMkosRUFFOUIsTSxvRUFBQ1YsQ0FBQSxDQWhDMEIsRyw2d0JDc0Q3QixJQUNhN0gsRUFBTSxJQ3RESyxXQUN0QixTQUFBeUksSyw0RkFBYWhMLENBQUEsS0FBQWdMLEdBQ1gvSyxLQUFLZ0wsT0FBUyx1Q0FDZGhMLEtBQUtpTCxTQUFXLFlBQ2hCakwsS0FBS2tMLEtBQU8sc0NBQUhDLE9BQXlDbkwsS0FBS2lMLFNBQVEsSUFDakUsQyxRQTJLRCxPLEVBM0tFRixHLEVBQUEsRUFBQXRNLElBQUEsa0JBQUFnQyxNQUVILFdBQ0UsT0FBTzJLLE1BQU0sR0FBREQsT0FBSW5MLEtBQUtrTCxLQUFJLFNBQVMsQ0FDaENHLFFBQVMsQ0FDUEMsY0FBZXRMLEtBQUtnTCxVQUdyQnhJLE1BQUssU0FBQUMsR0FDSixHQUFJQSxFQUFJOEksR0FDTixPQUFPOUksRUFBSStJLE1BRWYsR0FDSixHQUFDLENBQUEvTSxJQUFBLGFBQUFnQyxNQUVELFNBQVdnTCxHQUNULE9BQU9MLE1BQU0sR0FBREQsT0FBSW5MLEtBQUtrTCxLQUFJLFNBQVMsQ0FDaENRLE9BQVEsT0FDUkwsUUFBUyxDQUNQQyxjQUFldEwsS0FBS2dMLE9BQ3BCLGVBQWdCLG9CQUVsQlcsS0FBTUMsS0FBS0MsVUFBVUosS0FFcEJqSixNQUFLLFNBQUFDLEdBQ0osR0FBSUEsRUFBSThJLEdBQ04sT0FBTzlJLEVBQUkrSSxNQUVmLEdBQ0osR0FBQyxDQUFBL00sSUFBQSxjQUFBZ0MsTUFFRCxXQUNFLE9BQU8ySyxNQUFNLEdBQURELE9BQUluTCxLQUFLa0wsS0FBSSxZQUFZLENBQ25DUSxPQUFRLE1BQ1JMLFFBQVEsQ0FDUkMsY0FBZXRMLEtBQUtnTCxVQUd2QnhJLE1BQUssU0FBQUMsR0FDSixHQUFJQSxFQUFJOEksR0FDTixPQUFPOUksRUFBSStJLE1BRWYsR0FDQSxHQUFDLENBQUEvTSxJQUFBLDBCQUFBZ0MsTUFFRCxTQUF3Qm1GLEdBQ3RCLE9BQU93RixNQUFLLEdBQUFELE9BQUtuTCxLQUFLa0wsS0FBSSxZQUFZLENBQ3BDUSxPQUFRLFFBQ1JMLFFBQVMsQ0FDUEMsY0FBZXRMLEtBQUtnTCxPQUNwQixlQUFnQixvQkFFbEJXLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJwTSxLQUFNbUcsRUFBS25HLEtBQ1hxTSxNQUFPbEcsRUFBS2dGLFFBR2ZwSSxNQUFLLFNBQUFDLEdBQ0osR0FBSUEsRUFBSThJLEdBQ04sT0FBTzlJLEVBQUkrSSxNQUVmLEdBQ0YsR0FBQyxDQUFBL00sSUFBQSxxQkFBQWdDLE1BRUQsV0FDRSxPQUFPMkssTUFBSyxHQUFBRCxPQUFLbkwsS0FBS2tMLEtBQUksWUFBWSxDQUNwQ1EsT0FBUSxNQUNSTCxRQUFTLENBQ1BDLGNBQWV0TCxLQUFLZ0wsVUFHdkJ4SSxNQUFLLFNBQUFDLEdBQ0osR0FBSUEsRUFBSThJLEdBQ04sT0FBTzlJLEVBQUkrSSxNQUVmLEdBQ0YsR0FBQyxDQUFBL00sSUFBQSxlQUFBZ0MsTUFFRCxTQUFhc0wsR0FDWCxPQUFPWCxNQUFNLEdBQURELE9BQUluTCxLQUFLa0wsS0FBSSxtQkFBbUIsQ0FDMUNRLE9BQVEsUUFDUkwsUUFBUyxDQUNQQyxjQUFldEwsS0FBS2dMLE9BQ3BCLGVBQWdCLG9CQUVsQlcsS0FBTUMsS0FBS0MsVUFBVSxDQUFFaEIsT0FBUWtCLEVBQVdyTSxTQUV6QzhDLE1BQUssU0FBQ3dKLEdBQ0wsR0FBSUEsRUFBU1QsR0FDWCxPQUFPUyxFQUFTUixPQUVoQixNQUFNLElBQUlTLE1BQU0sMEJBQURkLE9BQTJCYSxFQUFTRSxZQUV2RCxJQUNDQyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFELE1BQU0sMEJBQURqQixPQUEyQmlCLEdBQzFDLEdBQ0osR0FBQyxDQUFBM04sSUFBQSxnQkFBQWdDLE1BRUQsV0FDRSxPQUFPMkssTUFBTSxHQUFERCxPQUFJbkwsS0FBS2tMLEtBQUksbUJBQW1CLENBQzFDUSxPQUFRLE1BQ1JMLFFBQVEsQ0FDTkMsY0FBZXRMLEtBQUtnTCxVQUd2QnhJLE1BQUssU0FBQ3dKLEdBQ0wsR0FBSUEsRUFBU1QsR0FDWCxPQUFPUyxFQUFTUixNQUV0QixJQUNDVyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFELE1BQU0sMEJBQURqQixPQUEyQmlCLEdBQzFDLEdBQ0EsR0FBQyxDQUFBM04sSUFBQSxhQUFBZ0MsTUFFRCxTQUFXWCxHQUNULE9BQU9zTCxNQUFNLEdBQURELE9BQUluTCxLQUFLa0wsS0FBSSxVQUFBQyxPQUFTckwsR0FBTyxDQUN2QzRMLE9BQVEsU0FDUkwsUUFBUyxDQUNQQyxjQUFldEwsS0FBS2dMLFVBR3ZCeEksTUFBSyxTQUFDd0osR0FDTCxJQUFLQSxFQUFTVCxHQUNaLE1BQU0sSUFBSVUsTUFBTSx3QkFBRGQsT0FBeUJhLEVBQVNFLGFBRW5ELE9BQU9GLEVBQVNSLE1BQ2xCLElBQ0NXLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUQsTUFBTSx3QkFBRGpCLE9BQXlCaUIsR0FDeEMsR0FDRixHQUFDLENBQUEzTixJQUFBLFVBQUFnQyxNQUVELFNBQVFYLEdBQ04sT0FBT3NMLE1BQU0sR0FBREQsT0FBSW5MLEtBQUtrTCxLQUFJLGdCQUFBQyxPQUFlckwsR0FBTyxDQUM3QzRMLE9BQVEsTUFDUkwsUUFBUyxDQUNQQyxjQUFldEwsS0FBS2dMLE9BQ3BCLGVBQWdCLHNCQUduQnhJLE1BQUssU0FBQUMsR0FDSixHQUFJQSxFQUFJOEksR0FDTixPQUFPOUksRUFBSStJLE9BRVgsTUFBTSxJQUFJUyxNQUFNLHNCQUFEZCxPQUF1QjFJLEVBQUl5SixZQUU5QyxJQUNDQyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFELE1BQU0scUJBQURqQixPQUFzQmlCLEdBQ3JDLEdBQ0YsR0FBQyxDQUFBM04sSUFBQSxhQUFBZ0MsTUFFRCxTQUFXWCxHQUNULE9BQU9zTCxNQUFNLEdBQURELE9BQUluTCxLQUFLa0wsS0FBSSxnQkFBQUMsT0FBZXJMLEdBQU8sQ0FDN0M0TCxPQUFRLFNBQ1JMLFFBQVMsQ0FDUEMsY0FBZXRMLEtBQUtnTCxVQUd2QnhJLE1BQUssU0FBQUMsR0FDSixHQUFJQSxFQUFJOEksR0FDTixPQUFPOUksRUFBSStJLE9BRVgsTUFBTSxJQUFJUyxNQUFNLHdCQUFEZCxPQUF5QjFJLEVBQUl5SixZQUVoRCxJQUNDQyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFELE1BQU0sd0JBQURqQixPQUF5QmlCLEdBQ3hDLEdBQ0YsTSxvRUFBQ3JCLENBQUEsQ0FoTHVCLElEd0RsQnVCLEVBQVcsSUFBSW5DLEVBQVMsQ0FDNUJDLGFBQWMsNkJBQ2RDLGFBQWMsNkJBQ2RDLGVBQWdCLFlBR2xCaUMsUUFBUUMsSUFBSSxDQUFDbEssRUFBSW1LLHFCQUFzQm5LLEVBQUlvSyxvQkFDeENsSyxNQUFLLFNBQUFuRCxHQUFrQixJLElBQUF5TCxHLEVBQUEsRSw0Q0FBQXpMLEksbzJCQUFoQkUsRUFBSXVMLEVBQUEsR0FBRWxGLEVBQUlrRixFQUFBLEdBQ2hCd0IsRUFBU0ssWUFBWXBOLEdBRXJCLElBQU1xTixFQUFjLElBQUlsSCxFQUN0QixDQUNFRSxLQUFNQSxFQUNOQyxTQUFVLFNBQUNJLEdBQ1QsSUFDTTRHLEVBRE8sSUFBSXpOLEVBQUs2RyxFQUFNLGtCQUFtQjFHLEdBQ3RCOEosYUFFekJ1RCxFQUFZRSxRQUFRRCxFQUN0QixHQXJCaUIsaUJBeUJyQkQsRUFBWUcsU0FFWixJQUFNQyxFQUFZcE0sU0FBU0MsY0FBYyxlQUNuQ29NLEVBQWMsSUFBSTNELEVBQWMsaUJBQWlCLFNBQUNtQyxHQUN0RDlFLEVBQW1CM0YsWUFBYyxhQUNqQ3NCLEVBQUk0SyxXQUFXekIsR0FDZGpKLE1BQUssU0FBQ3dKLEdBQ0wsSUFBUXZNLEVBQTJCdU0sRUFBM0J2TSxLQUFNQyxFQUFxQnNNLEVBQXJCdE0sS0FBTUksRUFBZWtNLEVBQWZsTSxJQUFLRCxFQUFVbU0sRUFBVm5NLE1BQ25Cc0osRUFBVSxJQUFJL0osRUFBSyxDQUFFSyxLQUFBQSxFQUFNQyxLQUFBQSxFQUFNSSxJQUFBQSxFQUFLSCxNQUFPLEdBQUlFLE1BQUFBLEdBQVEsa0JBQW1CTixHQUNsRnFCLFNBQVNDLGNBQWMsaUJBQWlCdUksUUFBUUQsRUFBUUUsY0FDeEQxQyxFQUFtQjNGLFlBQWMsT0FDbkMsR0FDQSxJQUVGZ00sRUFBVXZMLGlCQUFpQixTQUFTLFdBQ2xDd0wsRUFBWWxMLE1BQ2QsR0FDRixJQUNDb0ssT0FBTSxTQUFDQyxHQUNOekYsRUFBbUIzRixZQUFjLE9BQ25DLElBRUZKLFNBQVNhLGlCQUFpQixTQUFTLFNBQUNDLEdBQ2xDLEdBQUlBLEVBQUlFLE9BQU9NLFVBQVVxQixTQUFTLGNBQWUsQ0FDL0MsSUFBTTRKLEVBQVksQ0FDaEJqTSxJQUFLUSxFQUFJRSxPQUFPVixJQUNoQkMsSUFBS08sRUFBSUUsT0FBT1QsSUFDaEIxQixLQUFNaUMsRUFBSUUsT0FBT1QsS0FFSSxJQUFJeUQsRUFBZSx5QkFDM0I3QyxLQUFLb0wsRUFBVTFOLEtBQU0wTixFQUFVak0sSUFDaEQsQ0FDRixJQUVBLElBQU1rTSxFQUFheE0sU0FBU0MsY0FBYyxnQkFDMUN5QixFQUFJK0ssWUFBWWYsR0FDaEIsSUFBTWdCLEdBQWUsSUFBSWhFLEVBQWMsa0JBQWtCLFNBQUMxRCxHQUN4RDBHLEVBQVNLLFlBQVkvRyxHQUNyQmdCLEVBQWtCNUYsWUFBYyxlQUNoQ3NCLEVBQUlpTCx3QkFBd0IzSCxHQUN6QnBELE1BQUssV0FDSjhKLEVBQVNLLFlBQVkvRyxHQUNyQmdCLEVBQWtCNUYsWUFBYyxTQUNsQyxJQUNDbUwsT0FBTSxTQUFDQyxHQUNOeEYsRUFBa0I1RixZQUFjLFNBQ2xDLEdBQ0osSUFHQW9NLEVBQVczTCxpQkFBaUIsU0FBUyxXQUNuQyxJQUFRaUosRUFBMEI0QixFQUExQjVCLFdBQVlDLEVBQWMyQixFQUFkM0IsVUFDcEI2QyxFQUFzQmxCLEVBQVNlLGNBQXZCNU4sRUFBSStOLEVBQUovTixLQUFNbUwsRUFBRzRDLEVBQUg1QyxJQUVkRixFQUFXakssTUFBUWhCLEVBQ25Ca0wsRUFBVWxLLE1BQVFtSyxFQUNsQjBDLEdBQWF2TCxNQUNmLElBRUEsSUFBTTBMLEdBQWtCN00sU0FBU0MsY0FBYyxXQUN6QzZNLEdBQXFCLElBQUlwRSxFQUFjLHlCQUF5QixTQUFDeUMsR0FDckV0RixFQUFpQnpGLFlBQWMsZUFDL0JzQixFQUFJcUwsYUFBYTVCLEdBQ2R2SixNQUFLLFNBQUN3SixHQUNVcEwsU0FBU0MsY0FBYyxXQUMvQkssSUFBTThLLEVBQVNuQixPQUN0QnBFLEVBQWlCekYsWUFBYyxTQUNqQyxJQUNDbUwsT0FBTSxTQUFDQyxHQUNOM0YsRUFBaUJ6RixZQUFjLFNBQ2pDLEdBQ0osSUFFQXlNLEdBQWdCaE0saUJBQWlCLFNBQVMsU0FBQ2dELEdBQ3pDQSxFQUFNRSxpQkFDTitJLEdBQW1CM0wsTUFDckIsSUFFTyxJQUFNRCxHQUFnQixJQUFJd0gsRUFBYyx5QkFBeUIsU0FBQzNILEVBQWM3QixHQUNyRjRHLEVBQW9CMUYsWUFBYyxnQkFDbENzQixFQUFJc0wsV0FBVzlOLEdBQ1owQyxNQUFLLFdBQ0piLEVBQWErQixTQUNiZ0QsRUFBb0IxRixZQUFjLElBQ3BDLElBQ0NtTCxPQUFNLFNBQUNDLEdBQ05DLFFBQVFELE1BQU0sMkJBQURqQixPQUE0QmlCLElBQ3pDMUYsRUFBb0IxRixZQUFjLElBQ3BDLEdBQ0osRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3V0aWxzL2NvbnN0YW50ZXMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiaW1wb3J0IHsgcG9wdXBEZWxldGluZyB9IGZyb20gXCIuLi9wYWdlcy9pbmRleC5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vcGFnZXMvaW5kZXguanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3Rvcih7bmFtZSwgbGluaywgbGlrZXMsIG93bmVyID0ge30sIF9pZH0sIHRlbXBsYXRlU2VsZWN0b3IsIHVzZXIpIHtcclxuICAgIHRoaXMudGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5saW5rID0gbGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gbGlrZXMgfHwgW107XHJcbiAgICB0aGlzLnVzZXIgPSB1c2VyLl9pZDtcclxuICAgIHRoaXMub3duZXIgPSBvd25lci5faWQgfHwge307XHJcbiAgICB0aGlzLmNhcmRJZCA9IF9pZCB8fCBudWxsO1xyXG4gICAgdGhpcy5vd25lck5hbWUgPSBvd25lci5uYW1lO1xyXG4gICAgdGhpcy51c2VyTmFtZSA9IHVzZXIubmFtZTtcclxuICAgIHRoaXMubGlrZUNvdW50RWxlbWVudCA9IG51bGw7XHJcbiAgICB0aGlzLl9pc0xpa2VkID0gdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5uYW1lID09PSB0aGlzLnVzZXJOYW1lKTtcclxuICB9XHJcbiAgX2NyZWF0ZUNhcmRFbGVtZW50KCkge1xyXG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMudGVtcGxhdGVTZWxlY3RvcikuY29udGVudDtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSB0ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICBjb25zdCBlbGVtZW50VGl0bGUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2UtdGV4dFwiKTtcclxuICAgIGVsZW1lbnRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMubmFtZTtcclxuXHJcbiAgICBjb25zdCBlbGVtZW50SW1hZ2UgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC1waG90b1wiKTtcclxuICAgIGVsZW1lbnRJbWFnZS5zcmMgPSB0aGlzLmxpbms7XHJcbiAgICBlbGVtZW50SW1hZ2UuYWx0ID0gdGhpcy5uYW1lO1xyXG5cclxuICAgIHRoaXMubGlrZUljb24gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaWNvbnNfX2Rpc2xpa2VcIik7XHJcbiAgICB0aGlzLl9saXN0ZW5lcnMoKTtcclxuXHJcblxyXG4gICAgY29uc3QgZGVsZXRlQnRuSWNvbiA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5pY29uc19fZGVsZXRlXCIpO1xyXG4gICAgaWYgKHRoaXMudXNlciAhPT0gdGhpcy5vd25lcil7XHJcbiAgICAgIGRlbGV0ZUJ0bkljb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiIFxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUJ0bkljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHsgICBcclxuICAgICAgdGhpcy5jYXJkVG9EZWxldGUgPSBldnQudGFyZ2V0LmNsb3Nlc3QoXCIuZWxlbWVudHNcIik7ICBcclxuICAgICAgcG9wdXBEZWxldGluZy5vcGVuKHRoaXMuY2FyZFRvRGVsZXRlLCB0aGlzLmNhcmRJZClcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMubGlrZUNvdW50RWxlbWVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5pY29uc19fbGlrZV9udW1iZXJcIik7XHJcbiAgICB0aGlzLmxpa2VDb3VudEVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGggPiAwID8gdGhpcy5fbGlrZXMubGVuZ3RoIDogJyc7XHJcblxyXG4gICAgaWYgKHRoaXMuX2xpa2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLmxpa2VDb3VudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubGlrZUNvdW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxuICAgIHRoaXMubXlMaWtlKClcclxuICBcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVUb2dnbGVDbGljaygpIHtcclxuICAgIHRoaXMuX2lzTGlrZWQgPSAhdGhpcy5faXNMaWtlZDtcclxuICAgIHRoaXMubGlrZUljb24uY2xhc3NMaXN0LnRvZ2dsZShcImljb25zX19saWtlXCIpO1xyXG4gICAgdGhpcy5oYW5kbGVMaWtlKHRoaXMuY2FyZElkKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlTGlrZShfaWQpe1xyXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpeyAgXHJcbiAgICAgIGFwaS5hZGRMaWtlKHRoaXMuY2FyZElkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzICYmIHJlcy5saWtlcyl7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSByZXMubGlrZXM7XHJcbiAgICAgICAgaWYgKHRoaXMubGlrZUNvdW50RWxlbWVudCkge1xyXG4gICAgICAgICAgdGhpcy5saWtlQ291bnRFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoID4gMCA/IHRoaXMuX2xpa2VzLmxlbmd0aCA6ICcnO1xyXG4gICAgICAgICAgdGhpcy5saWtlQ291bnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgfSBcclxuICAgICAgICB9ICAgICAgIC8vIHRoaXMuX2dldExpa2VzO1xyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBpLnJlbW92ZUxpa2UoX2lkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzICYmIHJlcy5saWtlcyl7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSByZXMubGlrZXNcclxuICAgICAgICBpZiAodGhpcy5saWtlQ291bnRFbGVtZW50KSB7XHJcbiAgICAgICAgICB0aGlzLmxpa2VDb3VudEVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGggPiAwID8gdGhpcy5fbGlrZXMubGVuZ3RoIDogJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9ICAgICAgIC8vIHRoaXMuX2dldExpa2VzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gX2dldExpa2VzKCkge1xyXG4gIC8vICAgY29uc3QgbGlrZUNvdW50RWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmljb25zX19saWtlc19udW1iZXInKTtcclxuICAvLyAgIGlmICh0aGlzLl9saWtlcy5sZW5ndGggPiAwKSB7XHJcbiAgLy8gICAgIGxpa2VDb3VudEVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgLy8gICAgIGxpa2VDb3VudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgLy8gICB9IGVsc2Uge1xyXG4gIC8vICAgICBsaWtlQ291bnRFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgLy8gICAgIGxpa2VDb3VudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAvLyAgIH1cclxuICAvLyB9XHJcbiAgXHJcbiAgbXlMaWtlKCl7XHJcbiAgICAgIGlmICh0aGlzLl9pc0xpa2VkKXtcclxuICAgICAgICAgdGhpcy5saWtlSWNvbi5jbGFzc0xpc3QuYWRkKFwiaWNvbnNfX2xpa2VcIik7XHJcbiAgICAgICB9XHJcbiAgICAgfVxyXG5cclxuXHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9jcmVhdGVDYXJkRWxlbWVudCgpO1xyXG4gIH1cclxuXHJcbiAgX2xpc3RlbmVycygpe1xyXG4gICAgdGhpcy5saWtlSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVUb2dnbGVDbGljaygpO1xyXG4gICAgICAvL3RoaXMuaGFuZGxlTGlrZSgpO1xyXG4gICAgfSlcclxuICB9XHJcbn0iLCJleHBvcnQgY29uc3QgcG9wVXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcFVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfcHJvZmlsZVwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcFVwRm9ybUltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfaW1hZ2VzXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVzY1BvcFVwRGVsZXRpbmcgPSAoZXZ0KSA9PiB7XHJcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgIGNsb3NlQWxsUG9wdXBzKCk7XHJcbiAgICBkZWxldGluZ0V2ZW50cygpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGluZ1BvcFVwQ2xpY2sgPSAoZXZ0KSA9PiB7XHJcbiAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfb3BlbmVkXCIpKSB7XHJcbiAgICBjbG9zZUFsbFBvcHVwcygpO1xyXG4gICAgZGVsZXRpbmdFdmVudHMoKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VQb3BVcFByb2ZpbGUoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgcG9wVXBQcm9maWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgZGVsZXRpbmdFdmVudHMoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlUG9wVXBGb3JtSW1hZ2VzKGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHBvcFVwRm9ybUltYWdlcy5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gIGRlbGV0aW5nRXZlbnRzKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9zZUFsbFBvcHVwcygpIHtcclxuICBwb3BVcHMuZm9yRWFjaCgocG9wdXApID0+IHtcclxuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWxldGluZ0V2ZW50cyhldnQpIHtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlc2NQb3BVcERlbGV0aW5nKTtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZGVsZXRpbmdQb3BVcENsaWNrKTtcclxufVxyXG5cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIGRlbGV0aW5nQ2FyZHMoKXtcclxuLy8gICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19oYW5kbGVycy1idXR0b24tZGVsZXRlXCIpO1xyXG4vLyAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuLy8gICAgICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19oYW5kbGVycy1idXR0b24tZGVsZXRlXCIpKSB7XHJcbi8vICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZXZ0LnRhcmdldC5jbG9zZXN0KFwiLmVsZW1lbnRzXCIpO1xyXG4vLyAgICAgICAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuLy8gICAgICAgICAgIH1cclxuLy8gICB9KVxyXG4vLyB9XHJcbiIsImltcG9ydCB7IGNsb3NlQWxsUG9wdXBzLCBkZWxldGluZ0V2ZW50cyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLmZpcnN0RWxlbWVudENoaWxkO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5wb3B1cF9fY29udGFpbmVyLWJ0bi1jbG9zZWRcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSA9IHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fZm9ybVN1Ym1pdEhhbmRsZXIgPSB0aGlzLl9mb3JtU3VibWl0SGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgY2xvc2VBbGxQb3B1cHMoKTtcclxuICAgICAgZGVsZXRpbmdFdmVudHMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9mb3JtU3VibWl0SGFuZGxlcihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlT3ZlcmxheUNsb3NlKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cCkge1xyXG4gICAgICBjbG9zZUFsbFBvcHVwcygpO1xyXG4gICAgICBkZWxldGluZ0V2ZW50cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIiNpbWctY2FyZC1wb3B1cFwiKTtcclxuICAgIHRoaXMuX2ltYWdlVGV4dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuaW1nLWNhcmQtbmFtZVwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbWFnZUNsaWNrKGV2dCkge1xyXG4gICAgY29uc3Qgcm91dGVJbWFnZSA9IGV2dC50YXJnZXQuc3JjO1xyXG4gICAgY29uc3QgYWx0SW1hZ2UgPSBldnQudGFyZ2V0LmFsdDtcclxuICAgIGNvbnN0IG5hbWVJbWFnZSA9IHRoaXMuX2ltYWdlVGV4dDtcclxuICAgIG5hbWVJbWFnZS50ZXh0Q29udGVudCA9IGV2dC50YXJnZXQuYWx0O1xyXG4gICAgY29uc3QgcG9wVXBGb3JtSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9wcmV2aWV3X2ltYWdlc1wiKTtcclxuICAgIHBvcFVwRm9ybUltYWdlcy5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgY29uc3QgaW1hZ2VQb3BVcCA9IHRoaXMuX2ltYWdlO1xyXG4gICAgaW1hZ2VQb3BVcC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgcm91dGVJbWFnZSk7XHJcbiAgICBpbWFnZVBvcFVwLnNldEF0dHJpYnV0ZShcImFsdFwiLCBhbHRJbWFnZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVQb3B1cEtleURvd24uYmluZCh0aGlzKSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlUG9wdXBDbGljay5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZVRleHQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pbml0aWFsQ2FyZHMgPSBkYXRhO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy5faW5pdGlhbENhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3lvc2VtaXRlLmpwZ1wiLFxyXG4gICAgbGlrZWQ6IGZhbHNlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWtlLWxvdWlzZS5qcGdcIixcclxuICAgIGxpa2VkOiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTW9udGHDsWFzIENhbHZhc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICAgIGxpa2VkOiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYXRlbWFyLmpwZ1wiLFxyXG4gICAgbGlrZWQ6IGZhbHNlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy92YW5vaXNlLmpwZ1wiLFxyXG4gICAgbGlrZWQ6IGZhbHNlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWdvLmpwZ1wiLFxyXG4gICAgbGlrZWQ6IGZhbHNlLFxyXG4gIH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3Qgb2JqQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3N1Ym1pdFwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB0aXR1bG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uLW5hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBzdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb24taW5mb1wiKTtcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2NvbnRhaW5lci10ZXh0cy1pbnB1dC1uYW1lXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9fY29udGFpbmVyLXRleHRzLWlucHV0LWluZm9cIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgdGl0bGVWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2NvbnRhaW5lci10ZXh0cy1pbnB1dC10aXRsZVwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBpbWFnZVZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9fY29udGFpbmVyLXRleHRzLWlucHV0LWxpbmtcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uRWRpdENoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2hhbmRsZXJzLWJ1dHRvbi1jaGFuZ2VcIik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25EZWxldGluZ0NhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faGFuZGxlcnMtYnV0dG9uLWRlbGV0aW5nXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQ3JlYXRpbmdDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faGFuZGxlcnMtYnV0dG9uLWNyZWF0ZVwiKVxyXG5leHBvcnQgY29uc3QgYnV0dG9uUHJvZmlsZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19oYW5kbGVycy1idXR0b25cIikiLCJpbXBvcnQgeyBkZWxldGluZ0V2ZW50cywgY2xvc2VBbGxQb3B1cHMsIHBvcFVwUHJvZmlsZSwgcG9wVXBGb3JtSW1hZ2VzIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgdGl0dWxvLFxyXG4gIHN1YnRpdGxlLFxyXG4gIG5hbWVJbnB1dCxcclxuICBqb2JJbnB1dCxcclxuICB0aXRsZVZhbHVlLFxyXG4gIGltYWdlVmFsdWUsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50ZXMuanNcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuL0NhcmQuanNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBvYmpDb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gY29uZmlnLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICB9XHJcblxyXG4gIF90b2dnbGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgc2hvdykge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gaW5wdXRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcclxuICAgIGlmIChzaG93KSB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl90b2dnbGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgdHJ1ZSk7IC8vIFNob3cgZXJyb3JcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBmYWxzZSk7IC8vIEhpZGUgZXJyb3JcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWQtaG92ZXJcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWQtaG92ZXJcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG5cclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dC1lcnJvcl9hY3RpdmVcIik7XHJcbiAgICBlbGVtZW50LmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2Zvcm1TZWxlY3RvcikpO1xyXG4gICAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgICAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9lbnRlcktleWRvd25FdmVudFByb2ZpbGUoZXZ0KSB7XHJcbiAgICBjb25zdCBmb3JtUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRhaW5lci10ZXh0c1wiKTtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVudGVyXCIpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IHRoaXMuX2hhc0ludmFsaWRJbnB1dChcclxuICAgICAgICBBcnJheS5mcm9tKGZvcm1Qcm9maWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIikpXHJcbiAgICAgICk7XHJcbiAgICAgIGlmICghaGFzSW52YWxpZElucHV0KSB7XHJcbiAgICAgICAgdGl0dWxvLnRleHRDb250ZW50ID0gbmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgIHN1YnRpdGxlLnRleHRDb250ZW50ID0gam9iSW5wdXQudmFsdWU7XHJcbiAgICAgICAgcG9wVXBQcm9maWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fdG9nZ2xlSW5wdXRFcnJvcihuYW1lSW5wdXQsIGhhc0ludmFsaWRJbnB1dCk7IC8vIFNob3cvaGlkZSBlcnJvciBvbiBuYW1lSW5wdXRcclxuICAgICAgdGhpcy5fdG9nZ2xlSW5wdXRFcnJvcihqb2JJbnB1dCwgaGFzSW52YWxpZElucHV0KTsgLy8gU2hvdy9oaWRlIGVycm9yIG9uIGpvYklucHV0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZW50ZXJLZXlEb3duRXZlbnRJbWFnZXMoZXZ0KSB7XHJcbiAgICBjb25zdCBmb3JtUHJvZmlsZUltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19jb250YWluZXItdGV4dHMtaW1hZ2VzXCJcclxuICAgICk7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjb25zdCBoYXNJbnZhbGlkSW5wdXQgPSB0aGlzLl9oYXNJbnZhbGlkSW5wdXQoXHJcbiAgICAgICAgQXJyYXkuZnJvbShmb3JtUHJvZmlsZUltYWdlcy5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpKVxyXG4gICAgICApO1xyXG4gICAgICBpZiAoIWhhc0ludmFsaWRJbnB1dCkge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcmREYXRhID0ge1xyXG4gICAgICAgICAgbmFtZTogdGl0bGVWYWx1ZS52YWx1ZSxcclxuICAgICAgICAgIGxpbms6IGltYWdlVmFsdWUudmFsdWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQobmV3Q2FyZERhdGEsIFwiI3RlbXBsYXRlLWNhcmRzXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVsZW1lbnRzXCIpLnByZXBlbmQobmV3Q2FyZC5jcmVhdGVDYXJkKCkpO1xyXG4gICAgICAgIHBvcFVwRm9ybUltYWdlcy5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUlucHV0RXJyb3IodGl0bGVWYWx1ZSwgaGFzSW52YWxpZElucHV0KTsgLy8gU2hvdy9oaWRlIGVycm9yIG9uIHRpdGxlVmFsdWVcclxuICAgICAgdGhpcy5fdG9nZ2xlSW5wdXRFcnJvcihpbWFnZVZhbHVlLCBoYXNJbnZhbGlkSW5wdXQpOyAvLyBTaG93L2hpZGUgZXJyb3Igb24gaW1hZ2VWYWx1ZVxyXG4gICAgICBkZWxldGluZ0V2ZW50cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVBvcHVwS2V5RG93bihldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIGNsb3NlQWxsUG9wdXBzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUG9wdXBDbGljayhldnQpIHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSkge1xyXG4gICAgICBjbG9zZUFsbFBvcHVwcygpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciwgb2JqQ29uZmlnIH0gZnJvbSBcIi4vRm9ybVZhbGlkYXRpb24uanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgY2FsbEJhY2spIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc3VibWl0Q2FsbEJhY2sgPSBjYWxsQmFjaztcclxuICAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyID0gdGhpcy5fZm9ybVN1Ym1pdEhhbmRsZXIuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2Zvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihvYmpDb25maWcpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBfZ2V0TmV3VmFsdWVzKCkge1xyXG4gICAgaWYgKHRoaXMuX2Zvcm0uaWQgPT0gXCJjb25maXJtXCIpe1xyXG4gICAgICB0aGlzLl9zdWJtaXRDYWxsQmFjayh0aGlzLmNhcmRUb0RlbGV0ZSwgdGhpcy5jYXJkSWQpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgdGhpcy5fc3VibWl0Q2FsbEJhY2sodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZm9ybVN1Ym1pdEhhbmRsZXIgPSAoZXZ0KSA9PiB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuX2dldE5ld1ZhbHVlcygpO1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9mb3JtU3VibWl0SGFuZGxlcik7XHJcbiAgfVxyXG5cclxuICBvcGVuKGNhcmRUb0RlbGV0ZSwgX2lkKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9mb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICAgIHRoaXMuY2FyZFRvRGVsZXRlID0gY2FyZFRvRGVsZXRlXHJcbiAgICB0aGlzLmNhcmRJZCA9IF9pZDtcclxuICB9XHJcblxyXG4gIGNsb3NlKGNhcmRUb0RlbGV0ZSkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIGNhcmRUb0RlbGV0ZSA/IHRoaXMuX2Zvcm0uaWQ9XCJkZWxldGVcIiA6IG51bGwgO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGluZm9TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbmZvRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5mb1NlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKVxyXG4gICAgdGhpcy5fbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIucG9wdXBfX2NvbnRhaW5lci10ZXh0cy1pbnB1dC1uYW1lXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9qb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19jb250YWluZXItdGV4dHMtaW5wdXQtaW5mb1wiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5faW5mb0VsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyRWxlbWVudC5zcmNcclxuICAgIH07XHJcbiAgICByZXR1cm4gdXNlckRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiwgYXZhdGFyIH0pIHtcclxuICAgIGlmIChuYW1lKSB7XHJcbiAgICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIH1cclxuICAgIGlmIChqb2IpIHtcclxuICAgICAgdGhpcy5faW5mb0VsZW1lbnQudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgICB9XHJcbiAgICBpZiAoYXZhdGFyKSB7XHJcbiAgICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuLi92ZW5kb3Ivbm9ybWFsaXplLmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9mb250cy9pbnRlci5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9ib2R5L2JvZHkuY3NzXCI7XHJcbmltcG9ydCBcIi4vc3R5bGVzL2Jsb2Nrcy9idXR0b24vZWRpdC1idXR0b24vZWRpdC1idXR0b24uY3NzXCI7XHJcbmltcG9ydCBcIi4vc3R5bGVzL2Jsb2Nrcy9idXR0b24vYWRkLWJ1dHRvbi9hZGQtYnV0dG9uLmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL2NvbnRlbnQvY29udGVudC5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9oZWFkZXIvaGVhZGVyLmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL2xvZ28vbG9nby5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wYWdlL3BhZ2UuY3NzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL3N0eWxlcy9ibG9ja3MvcHJvZmlsZS9wcm9maWxlLmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL3Byb2ZpbGUvYXZhdGFyL2F2YXRhci5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wcm9maWxlL3ZlY3Rvci92ZWN0b3IuY3NzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL3N0eWxlcy9ibG9ja3MvcHJvZmlsZS9wcm9maWxlX19kZXNjcmlwdGlvbi9wcm9maWxlX19kZXNjcmlwdGlvbi5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wcm9maWxlL3Byb2ZpbGVfX2Rlc2NyaXB0aW9uLW5hbWUvcHJvZmlsZV9fZGVzY3JpcHRpb24tbmFtZS5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wcm9maWxlL3Byb2ZpbGVfX2Rlc2NyaXB0aW9uLWluZm8vcHJvZmlsZV9fZGVzY3JpcHRpb24taW5mby5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9lbGVtZW50cy9lbGVtZW50cy5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9lbGVtZW50cy9jYXJkL2NhcmQuY3NzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL3N0eWxlcy9ibG9ja3MvZWxlbWVudHMvY2FyZC9jYXJkX19pbWFnZS9jYXJkX19pbWFnZS5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9lbGVtZW50cy9jYXJkL2NhcmRfX2ltYWdlLXRleHQvY2FyZF9faW1hZ2UtdGV4dC5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9lbGVtZW50cy9jYXJkL2NhcmQtcGhvdG8vY2FyZC1waG90by5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9lbGVtZW50cy9pY29ucy9pY29ucy5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9lbGVtZW50cy9pY29ucy9pY29uc19fZGVsZXRlL2ljb25zX19kZWxldGUuY3NzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL3N0eWxlcy9ibG9ja3MvZWxlbWVudHMvaWNvbnMvaWNvbnNfX2xpa2UvaWNvbnNfX2xpa2UuY3NzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL3N0eWxlcy9ibG9ja3MvZWxlbWVudHMvaWNvbnMvaWNvbnNfX2xpa2VfbnVtYmVyL2ljb25zX19saWtlX251bWJlci5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wb3B1cC9wb3B1cC5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wb3B1cC9wb3B1cGZvcm0vcG9wdXBmb3JtLmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL3BvcHVwL3BvcHVwX29wZW5lZC9wb3B1cF9vcGVuZWQuY3NzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL3N0eWxlcy9ibG9ja3MvcG9wdXAvcG9wdXBfX2NvbnRhaW5lci9wb3B1cF9fY29udGFpbmVyLmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL3BvcHVwL3BvcHVwX19jb250YWluZXJfZGVsZXRpbmcvcG9wdXBfX2NvbnRhaW5lcl9kZWxldGluZy5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wb3B1cC9wb3B1cF9fY29udGFpbmVyX2VkaXQvcG9wdXBfX2NvbnRhaW5lcl9lZGl0LmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL3BvcHVwL3BvcHVwX19jb250YWluZXItdGV4dHMvcG9wdXBfX2NvbnRhaW5lci10ZXh0cy5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wb3B1cC9wb3B1cF9fY29udGFpbmVyLXRpdGxlL3BvcHVwX19jb250YWluZXItdGl0bGUuY3NzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL3N0eWxlcy9ibG9ja3MvcG9wdXAvcG9wdXBfX2NvbnRhaW5lci10ZXh0cy1pbnB1dC9wb3B1cF9fY29udGFpbmVyLXRleHRzLWlucHV0LmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL3BvcHVwL3BvcHVwX19jb250YWluZXItdGV4dHMtaW5wdXQtbGluay1lZGl0L3BvcHVwX19jb250YWluZXItdGV4dHMtaW5wdXQtbGluay1lZGl0LmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL3BvcHVwL3BvcHVwX19jb250YWluZXItdGV4dHMtZGVsZXRpbmcvcG9wdXBfX2NvbnRhaW5lci10ZXh0cy1kZWxldGluZy5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wb3B1cC9wb3B1cF9fY29udGFpbmVyLWJ0bi1jbG9zZWQvcG9wdXBfX2NvbnRhaW5lci1idG4tY2xvc2VkLmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL3BvcHVwL3BvcHVwX19jb250YWluZXItYnRuLWNsb3NlZC1lZGl0L3BvcHVwX19jb250YWluZXItYnRuLWNsb3NlZC1lZGl0LmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL3BvcHVwL3BvcHVwX19jb250YWluZXItYnRuLWNsb3NlZF9pbWFnZXMvcG9wdXBfX2NvbnRhaW5lci1idG4tY2xvc2VkX2ltYWdlcy5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9wb3B1cC9wb3B1cF9fY29udGFpbmVyLWJ0bi1jbG9zZWQtZGVsZXRpbmcvcG9wdXBfX2NvbnRhaW5lci1idG4tY2xvc2VkLWRlbGV0aW5nLmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL3BvcHVwL3BvcHVwX19oYW5kbGVycy9wb3B1cF9faGFuZGxlcnMuY3NzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL3N0eWxlcy9ibG9ja3MvcG9wdXAvcG9wdXBfX2hhbmRsZXJzLWJ1dHRvbi9wb3B1cF9faGFuZGxlcnMtYnV0dG9uLmNzc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvY2tzL2ltZ2NvbnRhaW5lci9pbWdfX2NvbnRhaW5lci5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9pbWdjb250YWluZXIvaW1nLWNhcmQtcG9wdXAvaW1nLWNhcmQtcG9wdXAuY3NzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL3N0eWxlcy9ibG9ja3MvZm9vdGVyL2Zvb3Rlci5jc3NcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2Nrcy9nbG9iYWwvZ2xvYmFsLmNzc1wiO1xyXG5cclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHsgYnV0dG9uRWRpdENoYW5nZSwgYnV0dG9uRGVsZXRpbmdDYXJkcywgYnV0dG9uUHJvZmlsZUVkaXQsIGJ1dHRvbkNyZWF0aW5nQ2FyZCB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudGVzLmpzXCI7XHJcblxyXG5jb25zdCBzZWN0aW9uQ29udGFpbmVyID0gXCIuY29udGVsZW1lbnRzXCI7XHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvbi1uYW1lXCIsXHJcbiAgaW5mb1NlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvbi1pbmZvXCIsXHJcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLmF2YXRhclwiXHJcbn0pO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mb0NoYW5nZWQoKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbigoW3VzZXIsIGRhdGFdKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyKTtcclxuXHJcbiAgICBjb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCBcIiN0ZW1wbGF0ZS1jYXJkc1wiLCB1c2VyKTtcclxuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5jcmVhdGVDYXJkKCk7XHJcbiAgICAgICAgICAvL2l0ZW0uX2xpa2VzID0ge31cclxuICAgICAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHNlY3Rpb25Db250YWluZXJcclxuICAgICk7XHJcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXIoKTtcclxuXHJcbiAgICBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XHJcbiAgICBjb25zdCBwb3B1cEltYWdlcyA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2ltYWdlc1wiLCAoY2FyZERhdGEpID0+IHtcclxuICAgICAgYnV0dG9uQ3JlYXRpbmdDYXJkLnRleHRDb250ZW50ID0gXCJDcmVhbmRvLi4uXCJcclxuICAgICAgYXBpLmFkZE5ld0NhcmQoY2FyZERhdGEpXHJcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgbmFtZSwgbGluaywgX2lkLCBvd25lciB9ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKHsgbmFtZSwgbGluaywgX2lkLCBsaWtlczogW10sIG93bmVyfSwgXCIjdGVtcGxhdGUtY2FyZHNcIiwgdXNlcik7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZWxlbWVudHNcIikucHJlcGVuZChuZXdDYXJkLmNyZWF0ZUNhcmQoKSk7XHJcbiAgICAgICAgYnV0dG9uQ3JlYXRpbmdDYXJkLnRleHRDb250ZW50ID0gXCJDcmVhclwiXHJcbiAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBwb3B1cEltYWdlcy5vcGVuKCk7XHJcbiAgICB9KTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGJ1dHRvbkNyZWF0aW5nQ2FyZC50ZXh0Q29udGVudCA9IFwiQ3JlYXJcIlxyXG4gIH0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkLXBob3RvXCIpKSB7XHJcbiAgICBjb25zdCBpbWFnZURhdGEgPSB7XHJcbiAgICAgIHNyYzogZXZ0LnRhcmdldC5zcmMsXHJcbiAgICAgIGFsdDogZXZ0LnRhcmdldC5hbHQsXHJcbiAgICAgIG5hbWU6IGV2dC50YXJnZXQuYWx0LFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3ByZXZpZXdfaW1hZ2VzXCIpO1xyXG4gICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihpbWFnZURhdGEubmFtZSwgaW1hZ2VEYXRhLnNyYyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtYnV0dG9uXCIpO1xyXG5hcGkuZ2V0VXNlckluZm8odXNlckluZm8pO1xyXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9wcm9maWxlXCIsIChkYXRhKSA9PiB7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgYnV0dG9uUHJvZmlsZUVkaXQudGV4dENvbnRlbnQgPSBcIkd1YXJkYW5kby4uLlwiXHJcbiAgYXBpLmdldFVzZXJJbmZvQ2hhbmdlZFBhdGNoKGRhdGEpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICBidXR0b25Qcm9maWxlRWRpdC50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBidXR0b25Qcm9maWxlRWRpdC50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiXHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5cclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHsgX25hbWVJbnB1dCwgX2pvYklucHV0IH0gPSB1c2VySW5mbztcclxuICBjb25zdCB7IG5hbWUsIGpvYiB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuXHJcbiAgX25hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XHJcbiAgX2pvYklucHV0LnZhbHVlID0gam9iO1xyXG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgZWRpdFByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZlY3RvcicpO1xyXG5jb25zdCBwb3B1cFByb2ZpbGVDaGFuZ2UgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2NoYW5nZV9wcm9maWxlJywgKGF2YXRhckxpbmspID0+IHtcclxuICBidXR0b25FZGl0Q2hhbmdlLnRleHRDb250ZW50ID0gXCJHdWFyZGFuZG8uLi5cIlxyXG4gIGFwaS51cGRhdGVBdmF0YXIoYXZhdGFyTGluaylcclxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF2YXRhclwiKTtcclxuICAgICAgYXZhdGFyLnNyYyA9IHJlc3BvbnNlLmF2YXRhcjtcclxuICAgICAgYnV0dG9uRWRpdENoYW5nZS50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBidXR0b25FZGl0Q2hhbmdlLnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5lZGl0UHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBFdml0YXIgcXVlIGVsIGZvcm11bGFyaW8gc2UgZW52w61lIGF1dG9tw6F0aWNhbWVudGUgLy8gT2J0ZW5lciBsYSBVUkwgZGUgbGEgaW1hZ2VuIGRlbCBhdmF0YXIgZGVsIGNhbXBvIGRlIGVudHJhZGFcclxuICBwb3B1cFByb2ZpbGVDaGFuZ2Uub3BlbigpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cERlbGV0aW5nID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfZGVsZXRpbmdfY2FyZHNcIiwgKGNhcmRUb0RlbGV0ZSwgX2lkKSA9PiB7XHJcbiAgYnV0dG9uRGVsZXRpbmdDYXJkcy50ZXh0Q29udGVudCA9IFwiRWxpbWluYW5kby4uLlwiXHJcbiAgYXBpLmRlbGV0ZUNhcmQoX2lkKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjYXJkVG9EZWxldGUucmVtb3ZlKCk7XHJcbiAgICAgIGJ1dHRvbkRlbGV0aW5nQ2FyZHMudGV4dENvbnRlbnQgPSBcIlNpXCI7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBkZWxldGluZyBjYXJkOiAke2Vycm9yfWApO1xyXG4gICAgICBidXR0b25EZWxldGluZ0NhcmRzLnRleHRDb250ZW50ID0gXCJTaVwiO1xyXG4gICAgfSk7XHJcbn0pIiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaXtcclxuICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgdGhpcy5fdG9rZW4gPSBcIjY0YmRjOGUxLTI4ZTUtNGQwNi1hY2RiLTg0N2IxN2M1NjU2MFwiO1xyXG4gICAgdGhpcy5fZ3JvdXBJZCA9IFwid2ViX2VzXzA5XCI7XHJcbiAgICB0aGlzLl91cmwgPSBgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS8ke3RoaXMuX2dyb3VwSWR9L2A7XHJcbiAgfVxyXG5cclxuZ2V0SW5pdGlhbENhcmRzKCl7XHJcbiAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkc2AsIHtcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICB9XHJcbiAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmFkZE5ld0NhcmQoY2FyZERhdGEpe1xyXG4gIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9Y2FyZHNgLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZERhdGEpXHJcbiAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmdldFVzZXJJbmZvKCl7XHJcbiAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZWAsIHtcclxuICAgIG1ldGhvZDogYEdFVGAsXHJcbiAgICBoZWFkZXJzOntcclxuICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gIH0sXHJcbn0pXHJcbi50aGVuKHJlcyA9PiB7XHJcbiAgaWYgKHJlcy5vaykge1xyXG4gICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgfVxyXG59KTtcclxufVxyXG5cclxuZ2V0VXNlckluZm9DaGFuZ2VkUGF0Y2goZGF0YSl7XHJcbiAgcmV0dXJuIGZldGNoIChgJHt0aGlzLl91cmx9dXNlcnMvbWVgLCB7XHJcbiAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgIGFib3V0OiBkYXRhLmpvYlxyXG4gICAgfSlcclxuICB9KVxyXG4gIC50aGVuKHJlcyA9PiB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5nZXRVc2VySW5mb0NoYW5nZWQoKXtcclxuICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuX3VybH11c2Vycy9tZWAsIHtcclxuICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICB9LFxyXG4gIH0pXHJcbiAgLnRoZW4ocmVzID0+IHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbnVwZGF0ZUF2YXRhcihhdmF0YXJMaW5rKSB7XHJcbiAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBhdmF0YXJMaW5rLmxpbmsgfSksXHJcbiAgfSlcclxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgdXBkYXRpbmcgYXZhdGFyOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIHVwZGF0ZUF2YXRhcjogJHtlcnJvcn1gKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5nZXRJbmZvQXZhdGFyKCl7XHJcbiAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgaGVhZGVyczp7XHJcbiAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgfVxyXG4gIH0pXHJcbiAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH1cclxufSlcclxuLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIHVwZGF0ZUF2YXRhcjogJHtlcnJvcn1gKTtcclxufSk7XHJcbn1cclxuXHJcbmRlbGV0ZUNhcmQoX2lkKXtcclxuICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzLyR7X2lkfWAsIHtcclxuICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgfVxyXG4gIH0pXHJcbiAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZGVsZXRpbmcgY2FyZDogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGRlbGV0ZUNhcmQ6ICR7ZXJyb3J9YCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmFkZExpa2UoX2lkKSB7XHJcbiAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkcy9saWtlcy8ke19pZH1gLCB7XHJcbiAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH0sXHJcbiAgICB9KVxyXG4gIC50aGVuKHJlcyA9PiB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhZGRpbmcgbGlrZTogJHtyZXMuc3RhdHVzVGV4dH1gKTtcclxuICAgIH1cclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGFkZExpa2U6ICR7ZXJyb3J9YCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbnJlbW92ZUxpa2UoX2lkKSB7XHJcbiAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkcy9saWtlcy8ke19pZH1gLCB7XHJcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgIH1cclxuICB9KVxyXG4gIC50aGVuKHJlcyA9PiB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciByZW1vdmluZyBsaWtlOiAke3Jlcy5zdGF0dXNUZXh0fWApO1xyXG4gICAgfVxyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gcmVtb3ZlTGlrZTogJHtlcnJvcn1gKTtcclxuICB9KTtcclxufVxyXG59XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkNhcmQiLCJfcmVmIiwidGVtcGxhdGVTZWxlY3RvciIsInVzZXIiLCJfdGhpcyIsIm5hbWUiLCJsaW5rIiwibGlrZXMiLCJfcmVmJG93bmVyIiwib3duZXIiLCJfaWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2xpa2VzIiwiY2FyZElkIiwib3duZXJOYW1lIiwidXNlck5hbWUiLCJsaWtlQ291bnRFbGVtZW50IiwiX2lzTGlrZWQiLCJzb21lIiwibGlrZSIsInZhbHVlIiwiX3RoaXMyIiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0ZXh0Q29udGVudCIsImVsZW1lbnRJbWFnZSIsInNyYyIsImFsdCIsImxpa2VJY29uIiwiX2xpc3RlbmVycyIsImRlbGV0ZUJ0bkljb24iLCJzdHlsZSIsImRpc3BsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2FyZFRvRGVsZXRlIiwidGFyZ2V0IiwiY2xvc2VzdCIsInBvcHVwRGVsZXRpbmciLCJvcGVuIiwibGVuZ3RoIiwibXlMaWtlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaGFuZGxlTGlrZSIsIl90aGlzMyIsImFwaSIsImFkZExpa2UiLCJ0aGVuIiwicmVzIiwicmVtb3ZlTGlrZSIsImFkZCIsIl9jcmVhdGVDYXJkRWxlbWVudCIsIl90aGlzNCIsIl9oYW5kbGVUb2dnbGVDbGljayIsInBvcFVwcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwb3BVcFByb2ZpbGUiLCJwb3BVcEZvcm1JbWFnZXMiLCJlc2NQb3BVcERlbGV0aW5nIiwiY2xvc2VBbGxQb3B1cHMiLCJkZWxldGluZ0V2ZW50cyIsImRlbGV0aW5nUG9wVXBDbGljayIsImNvbnRhaW5zIiwiZm9yRWFjaCIsInBvcHVwIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2Zvcm0iLCJmaXJzdEVsZW1lbnRDaGlsZCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwiX2Zvcm1TdWJtaXRIYW5kbGVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjbG9zZSIsImV2ZW50IiwiZSIsInByZXZlbnREZWZhdWx0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJfaW1hZ2UiLCJfaW1hZ2VUZXh0Iiwicm91dGVJbWFnZSIsImFsdEltYWdlIiwiaW1hZ2VQb3BVcCIsInNldEF0dHJpYnV0ZSIsIl9oYW5kbGVQb3B1cEtleURvd24iLCJfaGFuZGxlUG9wdXBDbGljayIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJkYXRhIiwicmVuZGVyZXIiLCJfaW5pdGlhbENhcmRzIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJhcHBlbmQiLCJ0aXR1bG8iLCJzdWJ0aXRsZSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwidGl0bGVWYWx1ZSIsImltYWdlVmFsdWUiLCJidXR0b25FZGl0Q2hhbmdlIiwiYnV0dG9uRGVsZXRpbmdDYXJkcyIsImJ1dHRvbkNyZWF0aW5nQ2FyZCIsImJ1dHRvblByb2ZpbGVFZGl0Iiwib2JqQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiX2Zvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJpbnB1dEVsZW1lbnQiLCJzaG93IiwiZXJyb3JFbGVtZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3RvZ2dsZUlucHV0RXJyb3IiLCJpbnB1dExpc3QiLCJidXR0b25FbGVtZW50IiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiZm9ybUVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZWwiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJmb3JtUHJvZmlsZSIsImhhc0ludmFsaWRJbnB1dCIsImZvcm1Qcm9maWxlSW1hZ2VzIiwibmV3Q2FyZERhdGEiLCJuZXdDYXJkIiwicHJlcGVuZCIsImNyZWF0ZUNhcmQiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbEJhY2siLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2dldE5ld1ZhbHVlcyIsIl9zdWJtaXRDYWxsQmFjayIsIl9mb3JtVmFsaWRhdG9yIiwiX2lucHV0TGlzdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJpZCIsIl9nZXRJbnB1dFZhbHVlcyIsImVuYWJsZVZhbGlkYXRpb24iLCJyZXNldCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiaW5mb1NlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfaW5mb0VsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsIl9uYW1lSW5wdXQiLCJfam9iSW5wdXQiLCJqb2IiLCJhdmF0YXIiLCJfcmVmMiIsIkFwaSIsIl90b2tlbiIsIl9ncm91cElkIiwiX3VybCIsImNvbmNhdCIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJvayIsImpzb24iLCJjYXJkRGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhdmF0YXJMaW5rIiwicmVzcG9uc2UiLCJFcnJvciIsInN0YXR1c1RleHQiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsInVzZXJJbmZvIiwiUHJvbWlzZSIsImFsbCIsImdldFVzZXJJbmZvQ2hhbmdlZCIsImdldEluaXRpYWxDYXJkcyIsInNldFVzZXJJbmZvIiwiY2FyZFNlY3Rpb24iLCJjYXJkRWxlbWVudCIsImFkZEl0ZW0iLCJyZW5kZXIiLCJhZGRCdXR0b24iLCJwb3B1cEltYWdlcyIsImFkZE5ld0NhcmQiLCJpbWFnZURhdGEiLCJlZGl0QnV0dG9uIiwiZ2V0VXNlckluZm8iLCJwb3B1cFByb2ZpbGUiLCJnZXRVc2VySW5mb0NoYW5nZWRQYXRjaCIsIl91c2VySW5mbyRnZXRVc2VySW5mbyIsImVkaXRQcm9maWxlRm9ybSIsInBvcHVwUHJvZmlsZUNoYW5nZSIsInVwZGF0ZUF2YXRhciIsImRlbGV0ZUNhcmQiXSwic291cmNlUm9vdCI6IiJ9